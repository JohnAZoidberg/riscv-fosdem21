\mode<presentation>

\usepackage{graphicx}
\usepackage{array}
\usepackage{setspace}
\usepackage{tikz}
\usepackage{listings}
\usepackage{fancyvrb}

\usetheme{default}

% Color theme

\definecolor{hpegray}{RGB}{198,201,202}
\definecolor{hpedarkgray}{RGB}{128,130,133}

\definecolor{hpegreen}{RGB}{0,169,130}
\definecolor{hpebronze}{RGB}{128,116,110}
\definecolor{hpeslate}{RGB}{66,85,99}

\definecolor{hpeturquoise}{RGB}{42,210,201}
\definecolor{hpepurple}{RGB}{97,71,103}
\definecolor{hpeorange}{RGB}{255,141,109}
\definecolor{hpedarksteel}{RGB}{95,122,118}

\setbeamercolor{background canvas}{bg=white}
\setbeamercolor{frametitle}{bg=white,fg=black}

\setbeamercolor{normal text}{bg=white,fg=black}
\setbeamercolor{text in head/foot}{fg=hpedarkgray}
\setbeamercolor{alerted text}{fg=hpegreen}
\setbeamercolor{section in toc}{fg=hpegreen}
\setbeamercolor{block title}{fg=white,bg=hpegreen}
\setbeamercolor{block body}{fg=black,bg=hpegray}

\setbeamercolor{itemize item}{fg=black}
\setbeamercolor{itemize subitem}{fg=black}
\setbeamercolor{itemize subsubitem}{fg=black}

% Inner theme
\setbeamersize{
  text margin left=15pt,
  text margin right=15pt,
}

\defbeamertemplate{navigation symbols}{hpestyle}{}
\defbeamertemplate{itemize item}{hpestyle}{--}
\defbeamertemplate{itemize subitem}{hpestyle}{--}
\defbeamertemplate{itemize subsubitem}{hpestyle}{--}

% Listings and Verbatim
\fvset{fontsize=\tiny,commandchars=\\\{\}}

\lstset{
  basicstyle=\scriptsize\ttfamily,
  stringstyle=\color{hpegreen},
  identifierstyle=\color{hpeslate},
  commentstyle=\color{hpegray},
  showstringspaces=false,
}

% MAchetes
\renewcommand{\rmdefault}{phv}
\renewcommand{\sfdefault}{phv}

% Outter theme
\defbeamertemplate*{title page}{hpestyle}{
  \begin{minipage}[t]{\textwidth}
    \includegraphics[scale=.5]{figures/logos/hpe_pri_grn_pos_rgb}
  \end{minipage}

  \vfill

  {\bf\Huge \inserttitle} \\

  ~

  {\small \insertsubtitle}

  ~

  {\bf\small\insertauthor} \\
  {\small\insertdate}
}

\defbeamertemplate*{footline}{hpestyle}{
  \hspace*{15pt}%
    \includegraphics[scale=.15]{figures/logos/hpe_pri_grn_pos_rgb}%
    \hfill%
    \textcolor{hpedarksteel}{\small\selectfont\bf\insertframenumber{}}%
    \hspace*{15pt}%
  \vspace{10pt}
}

\defbeamertemplate*{headline}{hpestyle}{
  \vspace{15pt}%
  \hspace{15pt}%
  \textcolor{hpegreen}{\rule[2ex]{\linewidth}{1pt}}
}

\defbeamertemplate*{frametitle}{hpestyle}{
  \parbox{\linewidth}{
    \noindent\Large{{\bf\insertframetitle}}\\
    \noindent\small\hspace*{1pt}\insertframesubtitle
  }
}

\DeclareRobustCommand{\useHpeDefaultSection}{
  \AtBeginSection[]{
    \begin{frame}{\Huge\insertsection}
    \end{frame}
  }
}

\useHpeDefaultSection

% Setting the template
\setbeamertemplate{footline}[hpestyle]
\setbeamertemplate{headline}[hpestyle]
\setbeamertemplate{frametitle}[hpestyle]
\setbeamertemplate{framesubtitle}[hpestyle]

\setbeamertemplate{navigation symbols}[hpestyle]
\setbeamertemplate{itemize item}[hpestyle]
\setbeamertemplate{itemize subitem}[hpestyle]
\setbeamertemplate{itemize subsubitem}[hpestyle]

% New stuff of the template
\newcolumntype{L}[1]{%
  >{\setlength{\baselineskip}{2\baselineskip}\raggedright\let\newline\\\arraybackslash\hspace{0pt}}%
  p{#1}%
}

\DeclareRobustCommand{\quote}[2]{
  {
    \setbeamertemplate{headline}{}
    \begin{frame}[t]

      \begin{tabular}{p{.000001\linewidth}L{.999999\linewidth}}
        \textbf{\Huge"}&\textbf{\Huge#1"}\\
         &    \\
         & #2 \\
      \end{tabular}
    \end{frame}
  }
}

\newenvironment{divider}{
  \begin{frame}[t]

    \vspace{-9pt}
    \begin{tikzpicture}[line width=7pt]
      \draw[hpegreen](0,0)rectangle(11.5,2);
    \end{tikzpicture}

    \vspace{10pt}

}{\end{frame}}

\newcommand{\hpeColorBox}[4]{
  \colorbox{#1}{\hspace{2pt}\parbox{#3}{\color{#2}#4}}
}

\newcommand{\hpeGrayBox}[2]{
  \hpeColorBox{hpedarkgray}{black}{#1}{#2}
}

\newcommand{\hpeSteelBox}[2]{
  \hpeColorBox{hpedarksteel}{white}{#1}{#2}
}

\DeclareRobustCommand{\useHpeDividerInSection}{
  \AtBeginSection[]{
    \begin{divider}
      \textbf{\Huge\insertsection}
    \end{divider}
  }
}

\mode
<all>
